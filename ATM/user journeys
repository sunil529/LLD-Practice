1. Successful Withdrawal (Happy Path)
ğŸ‘£ Steps:
User inserts card â†’ IdleState â†’ HasCardState

Enters correct PIN â†’ HasCardState â†’ AuthenticationState

Authenticated â†’ AuthenticationState â†’ OperationState

Selects withdrawal option â†’ OperationState â†’ PerformOperationState

Withdraws amount â†’ balance updated

Card is ejected â†’ PerformOperationState â†’ IdleState

âœ… 2. Balance Inquiry
ğŸ‘£ Steps:
Insert card

Enter PIN

Authenticate

Select â€œCheck Balanceâ€

Show balance

Eject card and return to idle

âœ… 3. Cash Deposit
ğŸ‘£ Steps:
Insert card

Enter PIN

Authenticate

Select â€œDepositâ€

Deposit â‚¹1000 â†’ Balance increased

Card ejected

âœ… 4. PIN Change
ğŸ‘£ Steps:
Insert card

Enter correct PIN

Authenticate

Select â€œChange PINâ€

New PIN updated (mocked)

Return card and go to idle

âŒ 5. Invalid PIN (Authentication Failure)
ğŸ‘£ Steps:
Insert card

Enter incorrect PIN

Authentication fails

Card is ejected automatically

Return to idle

âŒ 6. Cancel at Any Stage
ğŸ‘£ Example: Cancel after entering card
Insert card

Click cancel

Refund initiated (if any pending action)

Card ejected â†’ return to idle

ğŸ‘£ Example: Cancel after authentication
Insert card

Enter PIN

Authenticate

Click cancel instead of selecting operation

Card ejected

[Idle] 
  â””â”€â”€ InsertCard â†’ [HasCard] 
      â””â”€â”€ EnterPIN â†’ [Authentication]
          â””â”€â”€ Authenticate â†’ [Operation]
              â””â”€â”€ SelectOption â†’ [PerformOperation]
                  â””â”€â”€ Done â†’ EjectCard â†’ [Idle]

Any point â†’ Cancel â†’ EjectCard â†’ [Idle]
